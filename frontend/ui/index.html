<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' http://127.0.0.1:* ws://127.0.0.1:*; img-src 'self' data: file: http://127.0.0.1:*; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; media-src 'self' blob: http://127.0.0.1:*;">
  <title>ãµã«ã‚ƒç§˜æ›¸ãŸã‚“</title>
  <!-- ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã¯renderer.jsã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆ -->
  <style>
    /* å…¨ä½“ã®é€éè¨­å®š */
    body {
      background-color: rgba(0, 0, 0, 0);
      margin: 0;
      overflow: hidden;
    }
    
    /* æ—¢å­˜ã®ã‚¹ã‚¿ã‚¤ãƒ« */

    /* æ“ä½œãƒ¢ãƒ¼ãƒ‰é€šçŸ¥ */
    .pointer-events-enabled:after {
      content: "æ“ä½œãƒ¢ãƒ¼ãƒ‰";
      position: fixed;
      top: 10px;
      right: 10px;
      background-color: rgba(255, 0, 0, 0.7);
      color: white;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 12px;
      z-index: 9999;
      pointer-events: none;
    }
  </style>
  <script>
    // ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š
    const CONFIG = {
      voicevox: {
        host: 'http://127.0.0.1:50021',
        speaker_id: 8
      },
      backend: {
        host: 'http://127.0.0.1:8000',
        ws_url: 'ws://127.0.0.1:8000/ws'
      }
    };
    
    // ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ•ã‚§ãƒƒãƒãƒ©ãƒƒãƒ‘ãƒ¼
    async function debugFetch(url, options) {
      console.log(`[DEBUG] Fetché–‹å§‹: ${url}`, options);
      try {
        const response = await fetch(url, options);
        console.log(`[DEBUG] Fetchå®Œäº† (${Date.now() - performance.now()}ms): ${url}`);
        return response;
      } catch (error) {
        console.log(`[DEBUG] Fetchã‚¨ãƒ©ãƒ¼ (${Date.now() - performance.now()}ms): ${url}`, error);
        throw error;
      }
    }
    
    // æ—¢å­˜ã®fetchã‚’ãƒ©ãƒƒãƒ—ã—ãªã„ï¼ˆrenderer.jsã®å®Ÿè£…ã‚’ä½¿ã†ï¼‰
    window.originalFetch = window.fetch;
    
    // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤é–¢é€£ã®è¨­å®šã¨æ“ä½œ
    let currentSettings = {
      opacity: 100,
      size: 100,
      position: 'bottomRight',
      autoHide: true,
      alwaysOnTop: true
    };
    
    // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ
    function toggleOverlayMenu() {
      const menu = document.getElementById('overlayMenu');
      if (menu.style.display === 'none') {
        menu.style.display = 'block';
        // ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤ºæ™‚ã¯ãƒã‚¦ã‚¹ã‚¤ãƒ™ãƒ³ãƒˆã‚’æœ‰åŠ¹ã«
        if (window.electronAPI && window.electronAPI.enableMouseEvents) {
          window.electronAPI.enableMouseEvents();
        }
        // ç¾åœ¨ã®è¨­å®šå€¤ã‚’UIã«åæ˜ 
        loadCurrentSettings();
        
        // è¨­å®šã‚¢ã‚¤ã‚³ãƒ³ã‚’å¼·èª¿è¡¨ç¤º
        const settingsIcon = document.getElementById('settingsIcon');
        if (settingsIcon) {
          settingsIcon.style.opacity = '1';
          settingsIcon.style.transform = 'rotate(45deg)';
          settingsIcon.style.backgroundColor = 'rgba(0, 0, 0, 0.3)';
        }
      } else {
        menu.style.display = 'none';
        // ãƒ¡ãƒ‹ãƒ¥ãƒ¼éè¡¨ç¤ºæ™‚ã¯ãƒã‚¦ã‚¹ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€éã«
        if (window.electronAPI && window.electronAPI.disableMouseEvents) {
          window.electronAPI.disableMouseEvents();
        }
        
        // è¨­å®šã‚¢ã‚¤ã‚³ãƒ³ã‚’å…ƒã«æˆ»ã™
        const settingsIcon = document.getElementById('settingsIcon');
        if (settingsIcon) {
          settingsIcon.style.opacity = '0.3';
          settingsIcon.style.transform = '';
          settingsIcon.style.backgroundColor = 'rgba(0, 0, 0, 0.1)';
        }
      }
    }
    
    // ç¾åœ¨ã®è¨­å®šã‚’UIã«åæ˜ 
    function loadCurrentSettings() {
      // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å€¤ã‚’è¨­å®š
      document.getElementById('opacitySlider').value = currentSettings.opacity;
      document.getElementById('opacityValue').textContent = currentSettings.opacity;
      
      document.getElementById('sizeSlider').value = currentSettings.size;
      document.getElementById('sizeValue').textContent = currentSettings.size;
      
      // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®çŠ¶æ…‹ã‚’è¨­å®š
      document.getElementById('autoHideToggle').checked = currentSettings.autoHide;
      document.getElementById('alwaysTopToggle').checked = currentSettings.alwaysOnTop;
    }
    
    // é€æ˜åº¦ã®æ›´æ–°
    function updateOpacity(value) {
      document.getElementById('opacityValue').textContent = value;
      currentSettings.opacity = parseInt(value);
      
      // å®Ÿéš›ã®ã‚¹ã‚¿ã‚¤ãƒ«ã«é©ç”¨
      const assistantImage = document.getElementById('assistantImage');
      if (assistantImage) {
        assistantImage.style.opacity = value / 100;
      }
    }
    
    // ã‚µã‚¤ã‚ºã®æ›´æ–°
    function updateSize(value) {
      document.getElementById('sizeValue').textContent = value;
      currentSettings.size = parseInt(value);
      
      // å®Ÿéš›ã®ã‚¹ã‚¿ã‚¤ãƒ«ã«é©ç”¨
      const assistantImage = document.getElementById('assistantImage');
      if (assistantImage) {
        assistantImage.style.transform = `scale(${value / 100})`;
      }
    }
    
    // ä½ç½®ã®æ›´æ–°
    function updatePosition(position) {
      currentSettings.position = position;
      
      const container = document.querySelector('.assistant-container');
      if (!container) return;
      
      // ä½ç½®ã«å¿œã˜ã¦ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¤‰æ›´
      switch (position) {
        case 'topLeft':
          container.style.alignItems = 'flex-start';
          container.style.justifyContent = 'flex-start';
          container.style.paddingRight = '0';
          container.style.paddingLeft = '30px';
          break;
        case 'topRight':
          container.style.alignItems = 'flex-end';
          container.style.justifyContent = 'flex-start';
          container.style.paddingRight = '30px';
          container.style.paddingLeft = '0';
          break;
        case 'bottomLeft':
          container.style.alignItems = 'flex-start';
          container.style.justifyContent = 'flex-end';
          container.style.paddingRight = '0';
          container.style.paddingLeft = '30px';
          break;
        case 'bottomRight':
        default:
          container.style.alignItems = 'flex-end';
          container.style.justifyContent = 'flex-end';
          container.style.paddingRight = '30px';
          container.style.paddingLeft = '0';
          break;
      }
      
      // ãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®ã‚’æ›´æ–°
      const positionButtons = document.querySelectorAll('.position-buttons button');
      if (positionButtons.length === 4) {
        // ã™ã¹ã¦ã®ãƒœã‚¿ãƒ³ã‹ã‚‰ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
        positionButtons.forEach(btn => btn.classList.remove('active'));
        
        // é¸æŠã•ã‚ŒãŸãƒã‚¸ã‚·ãƒ§ãƒ³ã«åˆã‚ã›ã¦ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
        let activeIndex = 0;
        switch (position) {
          case 'topLeft': activeIndex = 0; break;
          case 'topRight': activeIndex = 1; break;
          case 'bottomLeft': activeIndex = 2; break;
          case 'bottomRight': activeIndex = 3; break;
        }
        positionButtons[activeIndex].classList.add('active');
      }
    }
    
    // è‡ªå‹•é€æ˜åŒ–ã®è¨­å®š
    function toggleAutoHide(enabled) {
      currentSettings.autoHide = enabled;
      
      // ã‚¯ãƒ©ã‚¹åˆ‡ã‚Šæ›¿ãˆã§è‡ªå‹•é€æ˜åŒ–ã‚’åˆ¶å¾¡
      if (!enabled) {
        document.body.classList.remove('mouse-active');
      }
    }
    
    // æœ€å‰é¢è¡¨ç¤ºã®åˆ‡ã‚Šæ›¿ãˆ
    function toggleAlwaysOnTop(enabled) {
      currentSettings.alwaysOnTop = enabled;
      
      // Electron APIã‚’ä½¿ç”¨ã—ã¦è¨­å®š
      if (window.electronAPI && window.electronAPI.toggleAlwaysOnTop) {
        window.electronAPI.toggleAlwaysOnTop();
      }
    }
    
    // è¨­å®šã‚’ä¿å­˜
    function saveSettings() {
      if (window.electronAPI && window.electronAPI.updateSettings) {
        window.electronAPI.updateSettings({
          assistant: currentSettings
        }).then(() => {
          // ä¿å­˜æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
          console.log('è¨­å®šãŒä¿å­˜ã•ã‚Œã¾ã—ãŸ');
          // ç°¡æ˜“çš„ãªæˆåŠŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
          const saveBtn = document.querySelector('.overlay-footer button');
          if (saveBtn) {
            const originalText = saveBtn.textContent;
            saveBtn.textContent = 'âœ“ ä¿å­˜å®Œäº†';
            saveBtn.style.backgroundColor = '#4CAF50';
            
            setTimeout(() => {
              saveBtn.textContent = originalText;
              saveBtn.style.backgroundColor = '';
            }, 2000);
          }
        });
      }
      
      // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹
      toggleOverlayMenu();
    }
    
    // å¹ãå‡ºã—ã‚’éè¡¨ç¤ºã«ã™ã‚‹é–¢æ•°
    function hideBubble() {
      const speechBubble = document.getElementById('speechBubble');
      if (speechBubble) {
        // å¹ãå‡ºã—ã‚’éè¡¨ç¤ºã«ã™ã‚‹
        speechBubble.className = 'speech-bubble hide';
        
        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†ã¾ã§å°‘ã—å¾…ã£ã¦ã‹ã‚‰å®Œå…¨ã«éè¡¨ç¤º
        setTimeout(() => {
          speechBubble.style.display = 'none';
          speechBubble.style.visibility = 'hidden';
          speechBubble.style.opacity = '0';
        }, 300);
        
        // å†ç”Ÿä¸­ã®ã™ã¹ã¦ã®éŸ³å£°ã‚’åœæ­¢ã™ã‚‹
        document.querySelectorAll('audio').forEach(audio => {
          audio.pause();
          audio.currentTime = 0;
        });
        
        // å£ãƒ‘ã‚¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åœæ­¢ï¼ˆã‚‚ã—å¤–éƒ¨é–¢æ•°ãŒã‚ã‚Œã°ï¼‰
        if (typeof stopTalking === 'function') {
          stopTalking();
        }
      }
    }
    
    // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ã™ã‚‹é–¢æ•°
    function closeApp() {
      if (window.electronAPI && window.electronAPI.closeWindow) {
        window.electronAPI.closeWindow();
      }
    }
  </script>
</head>
<body>
  <div id="app">
    <div class="assistant-container">
      <div class="speech-bubble" id="speechBubble">
        <span class="bubble-icon">ğŸ’­</span>
        <span class="bubble-text" id="speechText"></span>
        <div class="bubble-close-button" id="bubbleCloseButton" onclick="hideBubble()">Ã—</div>
      </div>
      <img id="assistantImage" class="assistant-image" src="../../assets/images/secretary_normal.png" alt="ç§˜æ›¸ãŸã‚“" />
      <div class="close-button" id="closeButton" onclick="closeApp()">Ã—</div>
    </div>
    <div class="error-bubble" id="errorBubble">
      <span class="bubble-icon">âš ï¸</span>
      <span class="bubble-text" id="errorText"></span>
    </div>
    <div id="statusIndicator" class="status-indicator"></div>
    
    <!-- ãƒ‡ãƒãƒƒã‚°ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
    <div class="settings-icon" id="settingsIcon" onclick="toggleOverlayMenu()">âš™ï¸</div>
    <div class="debug-controls" id="debugMenu" style="display: none;">
      <button id="normalBubbleBtn" onclick="testNormalBubble()">é€šå¸¸å¹ãå‡ºã—</button>
      <button id="testBubbleBtn" onclick="testBubble()">èµ¤å¹ãå‡ºã—</button>
      <button id="randomLineBtn" onclick="testRandomLine()">ãƒ©ãƒ³ãƒ€ãƒ ã‚»ãƒªãƒ•</button>
      <button id="testZombieBtn" onclick="testZombieOverlay()">ã‚¾ãƒ³ãƒ“æ¤œå‡ºãƒ†ã‚¹ãƒˆ</button>
      <button id="toggleClickThroughBtn" onclick="toggleClickThroughMode()">æ“ä½œãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿</button>
      <button id="devToolsBtn" onclick="openDevTools()">é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«</button>
      <button id="closeMenuBtn" onclick="toggleDebugMenu()">é–‰ã˜ã‚‹</button>
    </div>
    
    <!-- ã‚²ãƒ¼ãƒ å†…ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div class="overlay-menu" id="overlayMenu" style="display: none;">
      <div class="overlay-header">
        <span>ç§˜æ›¸ãŸã‚“è¨­å®š</span>
        <span class="close-btn" onclick="toggleOverlayMenu()">Ã—</span>
      </div>
      <div class="overlay-content">
        <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘åŸºæœ¬è¨­å®š -->
        <div class="settings-section">
          <div class="slider-control">
            <label>é€æ˜åº¦: <span id="opacityValue">100</span>%</label>
            <input type="range" id="opacitySlider" min="0" max="100" value="100" oninput="updateOpacity(this.value)">
          </div>
          <div class="slider-control">
            <label>ã‚µã‚¤ã‚º: <span id="sizeValue">100</span>%</label>
            <input type="range" id="sizeSlider" min="50" max="150" value="100" oninput="updateSize(this.value)">
          </div>
          <div class="position-control">
            <label>ä½ç½®:</label>
            <div class="position-buttons">
              <button onclick="updatePosition('topLeft')">å·¦ä¸Š</button>
              <button onclick="updatePosition('topRight')">å³ä¸Š</button>
              <button onclick="updatePosition('bottomLeft')">å·¦ä¸‹</button>
              <button onclick="updatePosition('bottomRight')">å³ä¸‹</button>
            </div>
          </div>
          <div class="toggle-control">
            <label>
              <input type="checkbox" id="autoHideToggle" onchange="toggleAutoHide(this.checked)">
              ãƒã‚¦ã‚¹æ“ä½œæ™‚ã«è‡ªå‹•ã§é€æ˜åŒ–
            </label>
          </div>
          <div class="toggle-control">
            <label>
              <input type="checkbox" id="alwaysTopToggle" onchange="toggleAlwaysOnTop(this.checked)">
              å¸¸ã«æœ€å‰é¢ã«è¡¨ç¤º
            </label>
          </div>
        </div>
        
        <!-- é–‹ç™ºè€…å‘ã‘è©³ç´°è¨­å®šï¼ˆæŠ˜ã‚ŠãŸãŸã¿å¼ï¼‰ -->
        <div class="advanced-section-wrapper">
          <div class="advanced-section-toggle" onclick="toggleAdvancedSection()">
            <span class="toggle-icon">â–·</span> è©³ç´°è¨­å®šï¼ˆé–‹ç™ºè€…å‘ã‘ï¼‰
          </div>
          <div class="advanced-section" id="advancedSection" style="display: none;">
            <div class="advanced-buttons">
              <button onclick="toggleDebugMenu()">é–‹ç™ºãƒ¡ãƒ‹ãƒ¥ãƒ¼</button>
              <button onclick="toggleDebugPanel()">ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«</button>
              <button onclick="openDevTools()">é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«</button>
              <button onclick="testZombieOverlay()">ã‚¾ãƒ³ãƒ“è­¦å‘Šãƒ†ã‚¹ãƒˆ</button>
              <button onclick="testNormalBubble()">å¹ãå‡ºã—çŠ¶æ…‹ç¢ºèª</button>
            </div>
          </div>
        </div>
        
        <div class="overlay-footer">
          <button onclick="saveSettings()" class="save-button">ä¿å­˜</button>
          <button onclick="closeApp()" class="exit-button">çµ‚äº†</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
  <script type="module" src="./renderer.js"></script>

  <!-- ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ« -->
  <div id="debug-panel" style="display: none; position: fixed; bottom: 10px; right: 10px; background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 5px; z-index: 9999999; font-family: monospace; font-size: 12px;">
    <div style="margin-bottom: 8px;">
      <button id="testZombieWarningBtn" style="background: #f44336; color: white; border: none; padding: 5px 10px; margin-right: 5px; cursor: pointer;">ã‚¾ãƒ³ãƒ“è­¦å‘Šãƒ†ã‚¹ãƒˆ</button>
      <button id="checkBubbleBtn" style="background: #2196f3; color: white; border: none; padding: 5px 10px; cursor: pointer;">å¹ãå‡ºã—çŠ¶æ…‹ç¢ºèª</button>
    </div>
    <div id="debug-info" style="max-width: 300px; max-height: 200px; overflow: auto; background: rgba(0,0,0,0.5); padding: 5px; margin-top: 5px; display: none;"></div>
  </div>

  <script>
    // ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿æ™‚ã«ãƒ‘ãƒãƒ«ã‚’è¡¨ç¤º/éè¡¨ç¤º
    document.addEventListener('DOMContentLoaded', () => {
      const debugPanel = document.getElementById('debug-panel');
      
      // Alt+Cã®ã‚¤ãƒ™ãƒ³ãƒˆã¯renderer.jsã§å‡¦ç†ã™ã‚‹ãŸã‚å‰Šé™¤
      
      // ã‚¾ãƒ³ãƒ“è­¦å‘Šãƒ†ã‚¹ãƒˆãƒœã‚¿ãƒ³
      document.getElementById('testZombieWarningBtn').addEventListener('click', () => {
        // WebSocketã®sendMessageé–¢æ•°ãŒåˆ©ç”¨å¯èƒ½ã‹ç¢ºèª
        if (typeof window.sendMessage === 'function') {
          window.sendMessage({
            type: 'zombie_warning',
            data: { count: 3 }
          });
        } else {
          console.error('sendMessageé–¢æ•°ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
          window.alert('sendMessageé–¢æ•°ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚WebSocketãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
        }
      });
      
      // å¹ãå‡ºã—çŠ¶æ…‹ç¢ºèªãƒœã‚¿ãƒ³
      document.getElementById('checkBubbleBtn').addEventListener('click', () => {
        const bubble = document.getElementById('speechBubble');
        const debugInfo = document.getElementById('debug-info');
        
        if (bubble && debugInfo) {
          const computed = window.getComputedStyle(bubble);
          debugInfo.style.display = 'block';
          debugInfo.innerHTML = `
            <div>ã‚¯ãƒ©ã‚¹: ${bubble.className}</div>
            <div>display: ${computed.display}</div>
            <div>visibility: ${computed.visibility}</div>
            <div>opacity: ${computed.opacity}</div>
            <div>z-index: ${computed.zIndex}</div>
            <div>position: ${computed.position}</div>
          `;
        } else {
          debugInfo.innerHTML = 'å¹ãå‡ºã—è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“';
        }
      });
    });
  </script>

  <!-- ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«ãƒˆã‚°ãƒ«é–¢æ•°è¿½åŠ  -->
  <script>
    function toggleDebugPanel() {
      const panel = document.getElementById('debug-panel');
      if (panel.style.display === 'none') {
        panel.style.display = 'block';
        const infoPanel = document.getElementById('debug-info');
        if (infoPanel) {
          infoPanel.style.display = 'block';
        }
      } else {
        panel.style.display = 'none';
      }
    }
  </script>

  <script>
    // ãƒ†ã‚¹ãƒˆç”¨: ã‚¾ãƒ³ãƒ“ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®ãƒ†ã‚¹ãƒˆ
    function testZombieOverlay() {
      // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
      if (window.zombieOverlayManager) {
        console.log('ã‚¾ãƒ³ãƒ“ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™');
        window.zombieOverlayManager.testOverlay();
      } else {
        console.error('ã‚¾ãƒ³ãƒ“ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
        alert('ã‚¾ãƒ³ãƒ“ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
      }
    }
  </script>

  <script>
    // è©³ç´°è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
    function toggleAdvancedSection() {
      const section = document.getElementById('advancedSection');
      const toggle = document.querySelector('.advanced-section-toggle');
      
      if (section.style.display === 'none') {
        section.style.display = 'block';
        toggle.querySelector('.toggle-icon').textContent = 'â–¼';
      } else {
        section.style.display = 'none';
        toggle.querySelector('.toggle-icon').textContent = 'â–·';
      }
    }
  </script>

  <script>
    // ãƒ‡ãƒãƒƒã‚°ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ã
    function openDevTools() {
      if (window.electronAPI && window.electronAPI.openDevTools) {
        console.log('ElectronAPIçµŒç”±ã§é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ãã¾ã™');
        window.electronAPI.openDevTools({ mode: 'detach' });
      } else {
        console.error('é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«APIãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
        alert('é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ããŸã‚ã®APIãŒåˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚');
      }
    }
  </script>
</body>
</html> 